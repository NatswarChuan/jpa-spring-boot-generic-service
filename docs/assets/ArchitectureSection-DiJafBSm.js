import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as r,o,a as n,b as e,d as l,e as p,F as b,r as f,t as a}from"./index-CC0Oy2c1.js";const m={},v={class:"py-12 overflow-x-auto bg-slate-50 border border-slate-200 rounded-xl my-6"};function u(c,s){return o(),r("div",v,[...s[0]||(s[0]=[n('<div class="flex flex-col xl:flex-row items-center justify-center space-y-8 xl:space-y-0 xl:space-x-4 min-w-[900px] px-4"><div class="flex flex-col items-center"><div class="w-32 h-32 rounded-full bg-slate-200 border-4 border-slate-300 flex items-center justify-center shadow-lg relative z-10"><div class="text-center"><i class="fas fa-user-circle text-4xl text-slate-500 mb-2"></i><div class="font-bold text-slate-700">Client</div></div></div></div><div class="flex-1 flex flex-col items-center justify-center px-2"><div class="text-[10px] font-mono text-slate-500 mb-1">HTTP Request</div><i class="fas fa-arrow-right text-slate-400 text-xl hidden xl:block"></i><i class="fas fa-arrow-down text-slate-400 text-xl xl:hidden"></i><div class="text-[10px] font-mono text-blue-600 font-bold mt-1">JSON Body</div></div><a href="#controller-layer" class="flex flex-col items-center group cursor-pointer hover:no-underline transform transition hover:scale-105"><div class="w-64 p-5 bg-white border-l-4 border-blue-500 rounded-lg shadow-lg relative z-10"><div class="absolute -top-3 -right-3 bg-blue-500 text-white text-[10px] font-bold px-2 py-1 rounded shadow"> @RestController </div><div class="text-xs text-blue-500 font-bold uppercase mb-2 flex justify-between items-center"> Generic Controller </div><h4 class="font-bold text-lg text-slate-800 mb-1">AbController</h4><div class="font-mono text-[10px] text-slate-500 bg-slate-100 p-1 rounded mb-2"> &lt;Product, Long, CreateReq...&gt; </div><ul class="text-xs text-slate-600 space-y-1"><li><i class="fas fa-check text-green-500 mr-1"></i> Handle HTTP</li><li><i class="fas fa-check text-green-500 mr-1"></i> Data Validation</li></ul></div></a><div class="flex-1 flex flex-col items-center justify-center px-2"><div class="text-[10px] font-mono text-slate-500 mb-1">Call Service</div><i class="fas fa-arrow-right text-slate-400 text-xl hidden xl:block"></i><i class="fas fa-arrow-down text-slate-400 text-xl xl:hidden"></i><div class="text-[10px] font-mono text-purple-600 font-bold mt-1">Req DTO</div></div><a href="#service-layer" class="flex flex-col items-center group cursor-pointer hover:no-underline transform transition hover:scale-105"><div class="w-64 p-5 bg-white border-l-4 border-purple-500 rounded-lg shadow-lg relative z-10"><div class="absolute -top-3 -right-3 bg-purple-500 text-white text-[10px] font-bold px-2 py-1 rounded shadow"> @Service </div><div class="text-xs text-purple-500 font-bold uppercase mb-2 flex justify-between items-center"> Generic Service </div><h4 class="font-bold text-lg text-slate-800 mb-1">AbService</h4><div class="font-mono text-[10px] text-slate-500 bg-slate-100 p-1 rounded mb-2"> &lt;Product, Long, ...&gt; </div><ul class="text-xs text-slate-600 space-y-1"><li><i class="fas fa-check text-green-500 mr-1"></i> Business Logic</li><li><i class="fas fa-check text-green-500 mr-1"></i> DTO ↔ Entity</li><li><i class="fas fa-check text-green-500 mr-1"></i> Hooks System</li></ul></div></a><div class="flex-1 flex flex-col items-center justify-center px-2"><div class="text-[10px] font-mono text-slate-500 mb-1">JPA Methods</div><i class="fas fa-arrow-right text-slate-400 text-xl hidden xl:block"></i><i class="fas fa-arrow-down text-slate-400 text-xl xl:hidden"></i><div class="text-[10px] font-mono text-green-600 font-bold mt-1">Entity (E)</div></div><a href="#core-entity-repo" class="flex flex-col items-center group cursor-pointer hover:no-underline transform transition hover:scale-105"><div class="w-64 p-5 bg-white border-l-4 border-green-500 rounded-lg shadow-lg relative z-10"><div class="absolute -top-3 -right-3 bg-green-500 text-white text-[10px] font-bold px-2 py-1 rounded shadow"> @Repository </div><div class="text-xs text-green-500 font-bold uppercase mb-2 flex justify-between items-center"> JPA Repository </div><h4 class="font-bold text-lg text-slate-800 mb-1">JpaRepository</h4><div class="font-mono text-[10px] text-slate-500 bg-slate-100 p-1 rounded mb-2"> &lt;Product, Long&gt; </div><ul class="text-xs text-slate-600 space-y-1"><li><i class="fas fa-check text-green-500 mr-1"></i> Database Query</li><li><i class="fas fa-check text-green-500 mr-1"></i> Dynamic Specification</li></ul></div></a><div class="flex-1 flex flex-col items-center justify-center px-2"><div class="text-[10px] font-mono text-slate-500 mb-1">JDBC</div><i class="fas fa-arrow-right text-slate-400 text-xl hidden xl:block"></i><i class="fas fa-arrow-down text-slate-400 text-xl xl:hidden"></i><div class="text-[10px] font-mono text-slate-600 font-bold mt-1">SQL</div></div><div class="flex flex-col items-center"><div class="w-24 h-32 bg-slate-300 border-4 border-slate-400 rounded-lg flex flex-col items-center justify-center shadow-inner relative"><div class="absolute top-0 w-full h-6 bg-slate-400 rounded-full -mt-3"></div><i class="fas fa-database text-4xl text-slate-600 mb-2 mt-4"></i><div class="font-bold text-slate-700 text-xs">Database</div></div></div></div>',1)])])}const g=x(m,[["render",u]]),h={id:"architecture-system",class:"scroll-mt-20 mb-16"},y={id:"architecture-diagram",class:"mb-10 scroll-mt-24"},w={class:"bg-slate-50 rounded-xl p-4 border border-slate-200"},k={id:"request-lifecycle",class:"mb-10 scroll-mt-24"},S={class:"relative pl-8 border-l-2 border-blue-500 space-y-8 ml-4"},D={class:"font-bold text-slate-800 text-sm uppercase tracking-wider mb-1"},C={class:"text-sm text-slate-500"},A={__name:"ArchitectureSection",setup(c){const s=[{title:"DTO Validation",desc:"Hibernate Validator kiểm tra các annotation (@NotBlank, @Exists...) trên ProductCreateReq."},{title:"Payload Mapping",desc:"Controller gọi service.create(dto.toEntity()) để chuyển đổi DTO sang Entity."},{title:"Before-Hook",desc:"Hook beforeCreate(entity) được thực thi để xử lý nghiệp vụ tiền lưu trữ."},{title:"Persistence",desc:"Repository lưu entity vào cơ sở dữ liệu qua Hibernate."},{title:"After-Hook",desc:"Hook afterCreate(entity) được kích hoạt (ví dụ: gửi mail, log logging)."},{title:"Final Mapping",desc:"Kết quả được map sang Response DTO và trả về cho Client."}];return(R,t)=>(o(),r("section",h,[t[5]||(t[5]=e("h2",{class:"text-3xl font-bold text-slate-900 border-b pb-4 mb-8"},"2. Kiến trúc & Vòng đời",-1)),t[6]||(t[6]=e("p",{class:"text-slate-600 italic mb-6"},"Đặc tả kỹ thuật của framework và luồng xử lý request.",-1)),e("article",y,[t[0]||(t[0]=e("h3",{class:"text-xl font-bold text-slate-800 mb-3"},[e("span",{class:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm mr-3"},"2.1"),l(" Sơ đồ Kiến trúc ")],-1)),t[1]||(t[1]=e("p",{class:"text-slate-600 mb-4"},"Mô hình tổng quan về sự tương tác giữa các tầng Controller, Service và Repository.",-1)),e("div",w,[p(g)])]),t[7]||(t[7]=n('<article id="framework-spec" class="mb-10 scroll-mt-24"><h3 class="text-xl font-bold text-slate-800 mb-3"><span class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm mr-3">2.2</span> Phân cấp Class </h3><p class="text-slate-600 mb-6"> Thiết kế theo mô hình phân tầng, phân chia rạch ròi trách nhiệm giữa các loại thao tác (Read, Create, Update, Delete). </p><div class="mb-6 bg-white border border-slate-200 rounded-lg p-6 shadow-sm overflow-x-auto"><div class="space-y-2 font-mono text-sm leading-relaxed"><div class="flex items-center"><span class="bg-slate-500 text-white px-3 py-0.5 rounded shadow-sm">AbBaseService</span><span class="mx-3 text-slate-400">→ Chứa Utils (Mapping, Logging)</span></div><div class="ml-8 border-l-2 border-slate-200 pl-4 space-y-2"><div class="flex items-center"><span class="bg-amber-500 text-white px-3 py-0.5 rounded shadow-sm">AbReadSummaryService</span><span class="mx-3 text-slate-400">→ Xử lý FindAll / Paging</span></div><div class="ml-8 border-l-2 border-slate-200 pl-4 space-y-2"><div class="flex items-center"><span class="bg-orange-500 text-white px-3 py-0.5 rounded shadow-sm">AbReadDetailService</span><span class="mx-3 text-slate-400">→ Xử lý FindOne / ById</span></div><div class="ml-8 border-l-2 border-slate-200 pl-4 space-y-2"><div class="flex items-center"><span class="bg-pink-500 text-white px-3 py-0.5 rounded shadow-sm">AbCreateService</span><span class="mx-3 text-slate-400">→ Xử lý Create</span></div><div class="ml-8 border-l-2 border-slate-200 pl-4 space-y-2"><div class="flex items-center"><span class="bg-purple-500 text-white px-3 py-0.5 rounded shadow-sm">AbUpdateService</span><span class="mx-3 text-slate-400">→ Xử lý Update / Save</span></div><div class="ml-8 border-l-2 border-slate-200 pl-4 space-y-2"><div class="flex items-center"><span class="bg-indigo-500 text-white px-3 py-0.5 rounded shadow-sm">AbDeleteService</span><span class="mx-3 text-slate-400">→ Xử lý Delete</span></div><div class="ml-8 border-l-2 border-slate-200 pl-4"><div class="flex items-center"><span class="bg-blue-600 text-white px-3 py-0.5 rounded shadow-sm">AbService</span><span class="mx-3 text-slate-400 font-bold">→ FULL CRUD + Specification</span></div></div></div></div></div></div></div></div></div></article><article id="generic-system" class="mb-10 scroll-mt-24"><h3 class="text-xl font-bold text-slate-800 mb-3"><span class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm mr-3">2.3</span> Hệ thống Generic Type </h3><p class="text-slate-600 mb-4">Type safety giúp kiểm soát chặt chẽ dữ liệu từ Controller xuống Service.</p><div class="overflow-x-auto rounded-lg border border-slate-200"><table class="w-full text-left text-sm border-collapse"><thead><tr class="bg-slate-50 text-slate-600 italic"><th class="p-3 border-b">Loại (Type)</th><th class="p-3 border-b">Mô tả</th></tr></thead><tbody class="text-slate-700"><tr><td class="p-3 border-b font-mono font-bold text-blue-600">E</td><td class="p-3 border-b"><strong>Entity Class:</strong> Thực thể JPA (VD: Product).</td></tr><tr><td class="p-3 border-b font-mono font-bold text-blue-600">ID</td><td class="p-3 border-b"><strong>PK Type:</strong> Kiểu khóa chính (VD: Long, UUID).</td></tr><tr><td class="p-3 border-b font-mono font-bold text-blue-600">RQ</td><td class="p-3 border-b"><strong>Request DTO:</strong> DTO đầu vào (VD: ProductCreateReq).</td></tr></tbody></table></div></article>',2)),e("article",k,[t[3]||(t[3]=e("h3",{class:"text-xl font-bold text-slate-800 mb-3"},[e("span",{class:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm mr-3"},"2.4"),l(" Vòng đời Request ")],-1)),t[4]||(t[4]=e("p",{class:"text-slate-600 mb-6"},[l("Luồng đi của dữ liệu khi gọi API "),e("code",null,"POST /api/v1/products"),l(":")],-1)),e("div",S,[(o(),r(b,null,f(s,(i,d)=>e("div",{key:d,class:"relative"},[t[2]||(t[2]=e("div",{class:"absolute -left-[41px] top-1.5 w-4 h-4 rounded-full bg-blue-500 border-4 border-white shadow-sm"},null,-1)),e("h4",D,a(d+1)+". "+a(i.title),1),e("p",C,a(i.desc),1)])),64))])])]))}};export{A as default};
